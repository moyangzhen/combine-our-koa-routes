{"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/model/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/model/demo.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nvar _test = _interopRequireDefault(require(\"./test\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// 增\nconst user = {\n  name: \"brian\",\n  age: 30,\n  email: \"brian@toimc.com\"\n};\nconst run = async () => {\n  const data = new _test.default(user);\n  const result = await data.save();\n  // console.log(result);\n};\n// run();\n// 查\nconst findMethods = async () => {\n  const result = await _test.default.find();\n  // console.log(result);\n};\n\nfindMethods();\n// 改\nconst updateMethods = async () => {\n  const result = await _test.default.updateOne({\n    name: \"brian\"\n  }, {\n    email: \"ldh@163.com\"\n  });\n  // console.log(result, User.find());\n};\n\nupdateMethods();\n// 删\nconst deleteMethods = async () => {\n  const result = await _test.default.deleteOne({\n    name: \"brian\"\n  });\n  console.log(result);\n};\ndeleteMethods();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyIiwibmFtZSIsImFnZSIsImVtYWlsIiwicnVuIiwiZGF0YSIsIlVzZXIiLCJyZXN1bHQiLCJzYXZlIiwiZmluZE1ldGhvZHMiLCJmaW5kIiwidXBkYXRlTWV0aG9kcyIsInVwZGF0ZU9uZSIsImRlbGV0ZU1ldGhvZHMiLCJkZWxldGVPbmUiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbHVja3kvRGVza3RvcC9mcm9udC9kYXFpYW5kdWFuL2FwaS9zcmMvbW9kZWwvIiwic291cmNlcyI6WyJkZW1vLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuL3Rlc3RcIjtcblxuLy8g5aKeXG5jb25zdCB1c2VyID0ge1xuICBuYW1lOiBcImJyaWFuXCIsXG4gIGFnZTogMzAsXG4gIGVtYWlsOiBcImJyaWFuQHRvaW1jLmNvbVwiLFxufTtcblxuY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBkYXRhID0gbmV3IFVzZXIodXNlcik7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGF0YS5zYXZlKCk7XG4gIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7XG59O1xuLy8gcnVuKCk7XG4vLyDmn6VcbmNvbnN0IGZpbmRNZXRob2RzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmQoKTtcbiAgLy8gY29uc29sZS5sb2cocmVzdWx0KTtcbn07XG5maW5kTWV0aG9kcygpO1xuLy8g5pS5XG5jb25zdCB1cGRhdGVNZXRob2RzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZShcbiAgICB7IG5hbWU6IFwiYnJpYW5cIiB9LFxuICAgIHsgZW1haWw6IFwibGRoQDE2My5jb21cIiB9XG4gICk7XG4gIC8vIGNvbnNvbGUubG9nKHJlc3VsdCwgVXNlci5maW5kKCkpO1xufTtcbnVwZGF0ZU1ldGhvZHMoKTtcbi8vIOWIoFxuY29uc3QgZGVsZXRlTWV0aG9kcyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci5kZWxldGVPbmUoeyBuYW1lOiBcImJyaWFuXCIgfSk7XG4gIGNvbnNvbGUubG9nKHJlc3VsdCk7XG59O1xuZGVsZXRlTWV0aG9kcygpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQTBCO0FBRTFCO0FBQ0EsTUFBTUEsSUFBSSxHQUFHO0VBQ1hDLElBQUksRUFBRSxPQUFPO0VBQ2JDLEdBQUcsRUFBRSxFQUFFO0VBQ1BDLEtBQUssRUFBRTtBQUNULENBQUM7QUFFRCxNQUFNQyxHQUFHLEdBQUcsWUFBWTtFQUN0QixNQUFNQyxJQUFJLEdBQUcsSUFBSUMsYUFBSSxDQUFDTixJQUFJLENBQUM7RUFFM0IsTUFBTU8sTUFBTSxHQUFHLE1BQU1GLElBQUksQ0FBQ0csSUFBSSxFQUFFO0VBQ2hDO0FBQ0YsQ0FBQztBQUNEO0FBQ0E7QUFDQSxNQUFNQyxXQUFXLEdBQUcsWUFBWTtFQUM5QixNQUFNRixNQUFNLEdBQUcsTUFBTUQsYUFBSSxDQUFDSSxJQUFJLEVBQUU7RUFDaEM7QUFDRixDQUFDOztBQUNERCxXQUFXLEVBQUU7QUFDYjtBQUNBLE1BQU1FLGFBQWEsR0FBRyxZQUFZO0VBQ2hDLE1BQU1KLE1BQU0sR0FBRyxNQUFNRCxhQUFJLENBQUNNLFNBQVMsQ0FDakM7SUFBRVgsSUFBSSxFQUFFO0VBQVEsQ0FBQyxFQUNqQjtJQUFFRSxLQUFLLEVBQUU7RUFBYyxDQUFDLENBQ3pCO0VBQ0Q7QUFDRixDQUFDOztBQUNEUSxhQUFhLEVBQUU7QUFDZjtBQUNBLE1BQU1FLGFBQWEsR0FBRyxZQUFZO0VBQ2hDLE1BQU1OLE1BQU0sR0FBRyxNQUFNRCxhQUFJLENBQUNRLFNBQVMsQ0FBQztJQUFFYixJQUFJLEVBQUU7RUFBUSxDQUFDLENBQUM7RUFDdERjLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVCxNQUFNLENBQUM7QUFDckIsQ0FBQztBQUNETSxhQUFhLEVBQUUifQ==","map":{"version":3,"names":["user","name","age","email","run","data","User","result","save","findMethods","find","updateMethods","updateOne","deleteMethods","deleteOne","console","log"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/model/","sources":["demo.js"],"sourcesContent":["import User from \"./test\";\n\n// 增\nconst user = {\n  name: \"brian\",\n  age: 30,\n  email: \"brian@toimc.com\",\n};\n\nconst run = async () => {\n  const data = new User(user);\n\n  const result = await data.save();\n  // console.log(result);\n};\n// run();\n// 查\nconst findMethods = async () => {\n  const result = await User.find();\n  // console.log(result);\n};\nfindMethods();\n// 改\nconst updateMethods = async () => {\n  const result = await User.updateOne(\n    { name: \"brian\" },\n    { email: \"ldh@163.com\" }\n  );\n  // console.log(result, User.find());\n};\nupdateMethods();\n// 删\nconst deleteMethods = async () => {\n  const result = await User.deleteOne({ name: \"brian\" });\n  console.log(result);\n};\ndeleteMethods();\n"],"mappings":";;AAAA;AAA0B;AAE1B;AACA,MAAMA,IAAI,GAAG;EACXC,IAAI,EAAE,OAAO;EACbC,GAAG,EAAE,EAAE;EACPC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,GAAG,GAAG,YAAY;EACtB,MAAMC,IAAI,GAAG,IAAIC,aAAI,CAACN,IAAI,CAAC;EAE3B,MAAMO,MAAM,GAAG,MAAMF,IAAI,CAACG,IAAI,EAAE;EAChC;AACF,CAAC;AACD;AACA;AACA,MAAMC,WAAW,GAAG,YAAY;EAC9B,MAAMF,MAAM,GAAG,MAAMD,aAAI,CAACI,IAAI,EAAE;EAChC;AACF,CAAC;;AACDD,WAAW,EAAE;AACb;AACA,MAAME,aAAa,GAAG,YAAY;EAChC,MAAMJ,MAAM,GAAG,MAAMD,aAAI,CAACM,SAAS,CACjC;IAAEX,IAAI,EAAE;EAAQ,CAAC,EACjB;IAAEE,KAAK,EAAE;EAAc,CAAC,CACzB;EACD;AACF,CAAC;;AACDQ,aAAa,EAAE;AACf;AACA,MAAME,aAAa,GAAG,YAAY;EAChC,MAAMN,MAAM,GAAG,MAAMD,aAAI,CAACQ,SAAS,CAAC;IAAEb,IAAI,EAAE;EAAQ,CAAC,CAAC;EACtDc,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;AACrB,CAAC;AACDM,aAAa,EAAE"}},"mtime":1669523375710},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/model/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/model/test.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _DBHelpler = _interopRequireDefault(require(\"../config/DBHelpler\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _DBHelpler.default.Schema;\nconst TestSchema = new Schema({\n  name: {\n    type: String\n  },\n  age: {\n    type: Number\n  },\n  email: {\n    type: String\n  }\n});\nconst TestModel = _DBHelpler.default.model(\"users\", TestSchema);\nvar _default = TestModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlRlc3RTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsImFnZSIsIk51bWJlciIsImVtYWlsIiwiVGVzdE1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sdWNreS9EZXNrdG9wL2Zyb250L2RhcWlhbmR1YW4vYXBpL3NyYy9tb2RlbC8iLCJzb3VyY2VzIjpbInRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCIuLi9jb25maWcvREJIZWxwbGVyXCI7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgVGVzdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZyB9LFxuICBhZ2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZyB9LFxufSk7XG5cbmNvbnN0IFRlc3RNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwidXNlcnNcIiwgVGVzdFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBUZXN0TW9kZWw7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQTJDO0FBRTNDLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVEsQ0FBQ0QsTUFBTTtBQUU5QixNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBTSxDQUFDO0VBQzVCRyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDdEJDLEdBQUcsRUFBRTtJQUFFRixJQUFJLEVBQUVHO0VBQU8sQ0FBQztFQUNyQkMsS0FBSyxFQUFFO0lBQUVKLElBQUksRUFBRUM7RUFBTztBQUN4QixDQUFDLENBQUM7QUFFRixNQUFNSSxTQUFTLEdBQUdSLGtCQUFRLENBQUNTLEtBQUssQ0FBQyxPQUFPLEVBQUVSLFVBQVUsQ0FBQztBQUFDLGVBQ3ZDTyxTQUFTO0FBQUEifQ==","map":{"version":3,"names":["Schema","mongoose","TestSchema","name","type","String","age","Number","email","TestModel","model"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/model/","sources":["test.js"],"sourcesContent":["import mongoose from \"../config/DBHelpler\";\n\nconst Schema = mongoose.Schema;\n\nconst TestSchema = new Schema({\n  name: { type: String },\n  age: { type: Number },\n  email: { type: String },\n});\n\nconst TestModel = mongoose.model(\"users\", TestSchema);\nexport default TestModel;\n"],"mappings":";;;;;;AAAA;AAA2C;AAE3C,MAAMA,MAAM,GAAGC,kBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,IAAI,EAAE;IAAEC,IAAI,EAAEC;EAAO,CAAC;EACtBC,GAAG,EAAE;IAAEF,IAAI,EAAEG;EAAO,CAAC;EACrBC,KAAK,EAAE;IAAEJ,IAAI,EAAEC;EAAO;AACxB,CAAC,CAAC;AAEF,MAAMI,SAAS,GAAGR,kBAAQ,CAACS,KAAK,CAAC,OAAO,EAAER,UAAU,CAAC;AAAC,eACvCO,SAAS;AAAA"}},"mtime":1669521531352},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/DBHelpler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _index = _interopRequireDefault(require(\"./index\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// 创建链接\n_mongoose.default.connect(_index.default.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\n// 链接成功\n_mongoose.default.connection.on(\"connected\", () => {\n  console.log(\"mongoose connection open to \" + _index.default.DB_URL);\n});\n\n// 链接异常\n_mongoose.default.connection.on(\"error\", error => {\n  console.log(\"mongoose connection error \" + error);\n});\n\n// 断开链接\n_mongoose.default.connection.on(\"disconnected\", () => {\n  console.log(\"mongoose connection disconnected\");\n});\nvar _default = _mongoose.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJEQl9VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0aW9uIiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sdWNreS9EZXNrdG9wL2Zyb250L2RhcWlhbmR1YW4vYXBpL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJEQkhlbHBsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9pbmRleFwiO1xuXG4vLyDliJvlu7rpk77mjqVcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLkRCX1VSTCwge1xuICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbn0pO1xuXG4vLyDpk77mjqXmiJDlip9cbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oXCJjb25uZWN0ZWRcIiwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIm1vbmdvb3NlIGNvbm5lY3Rpb24gb3BlbiB0byBcIiArIGNvbmZpZy5EQl9VUkwpO1xufSk7XG5cbi8vIOmTvuaOpeW8guW4uFxubW9uZ29vc2UuY29ubmVjdGlvbi5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICBjb25zb2xlLmxvZyhcIm1vbmdvb3NlIGNvbm5lY3Rpb24gZXJyb3IgXCIgKyBlcnJvcik7XG59KTtcblxuLy8g5pat5byA6ZO+5o6lXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKFwiZGlzY29ubmVjdGVkXCIsICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJtb25nb29zZSBjb25uZWN0aW9uIGRpc2Nvbm5lY3RlZFwiKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUE2QjtBQUU3QjtBQUNBQSxpQkFBUSxDQUFDQyxPQUFPLENBQUNDLGNBQU0sQ0FBQ0MsTUFBTSxFQUFFO0VBQzlCQyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsa0JBQWtCLEVBQUU7QUFDdEIsQ0FBQyxDQUFDOztBQUVGO0FBQ0FMLGlCQUFRLENBQUNNLFVBQVUsQ0FBQ0MsRUFBRSxDQUFDLFdBQVcsRUFBRSxNQUFNO0VBQ3hDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyw4QkFBOEIsR0FBR1AsY0FBTSxDQUFDQyxNQUFNLENBQUM7QUFDN0QsQ0FBQyxDQUFDOztBQUVGO0FBQ0FILGlCQUFRLENBQUNNLFVBQVUsQ0FBQ0MsRUFBRSxDQUFDLE9BQU8sRUFBR0csS0FBSyxJQUFLO0VBQ3pDRixPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsR0FBR0MsS0FBSyxDQUFDO0FBQ25ELENBQUMsQ0FBQzs7QUFFRjtBQUNBVixpQkFBUSxDQUFDTSxVQUFVLENBQUNDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsTUFBTTtFQUMzQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLENBQUM7QUFDakQsQ0FBQyxDQUFDO0FBQUMsZUFFWVQsaUJBQVE7QUFBQSJ9","map":{"version":3,"names":["mongoose","connect","config","DB_URL","useNewUrlParser","useUnifiedTopology","connection","on","console","log","error"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/config/","sources":["DBHelpler.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport config from \"./index\";\n\n// 创建链接\nmongoose.connect(config.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n});\n\n// 链接成功\nmongoose.connection.on(\"connected\", () => {\n  console.log(\"mongoose connection open to \" + config.DB_URL);\n});\n\n// 链接异常\nmongoose.connection.on(\"error\", (error) => {\n  console.log(\"mongoose connection error \" + error);\n});\n\n// 断开链接\nmongoose.connection.on(\"disconnected\", () => {\n  console.log(\"mongoose connection disconnected\");\n});\n\nexport default mongoose;\n"],"mappings":";;;;;;AAAA;AACA;AAA6B;AAE7B;AACAA,iBAAQ,CAACC,OAAO,CAACC,cAAM,CAACC,MAAM,EAAE;EAC9BC,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC;;AAEF;AACAL,iBAAQ,CAACM,UAAU,CAACC,EAAE,CAAC,WAAW,EAAE,MAAM;EACxCC,OAAO,CAACC,GAAG,CAAC,8BAA8B,GAAGP,cAAM,CAACC,MAAM,CAAC;AAC7D,CAAC,CAAC;;AAEF;AACAH,iBAAQ,CAACM,UAAU,CAACC,EAAE,CAAC,OAAO,EAAGG,KAAK,IAAK;EACzCF,OAAO,CAACC,GAAG,CAAC,4BAA4B,GAAGC,KAAK,CAAC;AACnD,CAAC,CAAC;;AAEF;AACAV,iBAAQ,CAACM,UAAU,CAACC,EAAE,CAAC,cAAc,EAAE,MAAM;EAC3CC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;AACjD,CAAC,CAAC;AAAC,eAEYT,iBAAQ;AAAA"}},"mtime":1669521156406},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst DB_URL = \"mongodb://test:123456@8.134.11.242:27017/testdb\";\nvar _default = {\n  DB_URL\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEQl9VUkwiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sdWNreS9EZXNrdG9wL2Zyb250L2RhcWlhbmR1YW4vYXBpL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBEQl9VUkwgPSBcIm1vbmdvZGI6Ly90ZXN0OjEyMzQ1NkA4LjEzNC4xMS4yNDI6MjcwMTcvdGVzdGRiXCI7XG5leHBvcnQgZGVmYXVsdCB7XG4gIERCX1VSTCxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLE1BQU0sR0FBRyxpREFBaUQ7QUFBQyxlQUNsRDtFQUNiQTtBQUNGLENBQUM7QUFBQSJ9","map":{"version":3,"names":["DB_URL"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/config/","sources":["index.js"],"sourcesContent":["const DB_URL = \"mongodb://test:123456@8.134.11.242:27017/testdb\";\nexport default {\n  DB_URL,\n};\n"],"mappings":";;;;;;AAAA,MAAMA,MAAM,GAAG,iDAAiD;AAAC,eAClD;EACbA;AACF,CAAC;AAAA"}},"mtime":1669520630667},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/model/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/model/test.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _DBHelpler = _interopRequireDefault(require(\"../config/DBHelpler\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _DBHelpler.default.Schema;\nconst TestSchema = new Schema({\n  name: {\n    type: String\n  },\n  age: {\n    type: Number\n  },\n  email: {\n    type: String\n  }\n});\nconst TestModel = _DBHelpler.default.model(\"users\", TestSchema);\nvar _default = TestModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlRlc3RTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsImFnZSIsIk51bWJlciIsImVtYWlsIiwiVGVzdE1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sdWNreS9EZXNrdG9wL2Zyb250L2RhcWlhbmR1YW4vYXBpL3NyYy9tb2RlbC8iLCJzb3VyY2VzIjpbInRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCIuLi9jb25maWcvREJIZWxwbGVyXCI7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgVGVzdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZyB9LFxuICBhZ2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZyB9LFxufSk7XG5cbmNvbnN0IFRlc3RNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwidXNlcnNcIiwgVGVzdFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBUZXN0TW9kZWw7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQTJDO0FBRTNDLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVEsQ0FBQ0QsTUFBTTtBQUU5QixNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBTSxDQUFDO0VBQzVCRyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDdEJDLEdBQUcsRUFBRTtJQUFFRixJQUFJLEVBQUVHO0VBQU8sQ0FBQztFQUNyQkMsS0FBSyxFQUFFO0lBQUVKLElBQUksRUFBRUM7RUFBTztBQUN4QixDQUFDLENBQUM7QUFFRixNQUFNSSxTQUFTLEdBQUdSLGtCQUFRLENBQUNTLEtBQUssQ0FBQyxPQUFPLEVBQUVSLFVBQVUsQ0FBQztBQUFDLGVBQ3ZDTyxTQUFTO0FBQUEifQ==","map":{"version":3,"names":["Schema","mongoose","TestSchema","name","type","String","age","Number","email","TestModel","model"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/model/","sources":["test.js"],"sourcesContent":["import mongoose from \"../config/DBHelpler\";\n\nconst Schema = mongoose.Schema;\n\nconst TestSchema = new Schema({\n  name: { type: String },\n  age: { type: Number },\n  email: { type: String },\n});\n\nconst TestModel = mongoose.model(\"users\", TestSchema);\nexport default TestModel;\n"],"mappings":";;;;;;AAAA;AAA2C;AAE3C,MAAMA,MAAM,GAAGC,kBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,IAAI,EAAE;IAAEC,IAAI,EAAEC;EAAO,CAAC;EACtBC,GAAG,EAAE;IAAEF,IAAI,EAAEG;EAAO,CAAC;EACrBC,KAAK,EAAE;IAAEJ,IAAI,EAAEC;EAAO;AACxB,CAAC,CAAC;AAEF,MAAMI,SAAS,GAAGR,kBAAQ,CAACS,KAAK,CAAC,OAAO,EAAER,UAAU,CAAC;AAAC,eACvCO,SAAS;AAAA"}},"mtime":1669521531352},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/test.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nvar _RedisConfig = require(\"./RedisConfig\");\n(0, _RedisConfig.setValue)(\"imooc\", \"imooc message from redis client\");\n(0, _RedisConfig.getValue)(\"imooc\").then(res => {\n  console.log(\"getValue\" + res);\n});\n(0, _RedisConfig.delValue)(\"imooc\");\n(0, _RedisConfig.setValue)(\"imoocobj\", {\n  name: \"brian\",\n  age: 30,\n  email: \"brian@imooc.com\"\n});\n(0, _RedisConfig.getHValue)(\"imoocobj\").then(res => {\n  console.log(\"getHValue\" + JSON.stringify(res));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZXRWYWx1ZSIsImdldFZhbHVlIiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJkZWxWYWx1ZSIsIm5hbWUiLCJhZ2UiLCJlbWFpbCIsImdldEhWYWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sdWNreS9EZXNrdG9wL2Zyb250L2RhcWlhbmR1YW4vYXBpL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJ0ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEhWYWx1ZSwgZ2V0VmFsdWUsIHNldFZhbHVlLCBkZWxWYWx1ZSB9IGZyb20gXCIuL1JlZGlzQ29uZmlnXCI7XG5zZXRWYWx1ZShcImltb29jXCIsIFwiaW1vb2MgbWVzc2FnZSBmcm9tIHJlZGlzIGNsaWVudFwiKTtcbmdldFZhbHVlKFwiaW1vb2NcIikudGhlbigocmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiZ2V0VmFsdWVcIiArIHJlcyk7XG59KTtcbmRlbFZhbHVlKFwiaW1vb2NcIik7XG5zZXRWYWx1ZShcImltb29jb2JqXCIsIHsgbmFtZTogXCJicmlhblwiLCBhZ2U6IDMwLCBlbWFpbDogXCJicmlhbkBpbW9vYy5jb21cIiB9KTtcblxuZ2V0SFZhbHVlKFwiaW1vb2NvYmpcIikudGhlbigocmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiZ2V0SFZhbHVlXCIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0EsSUFBQUEscUJBQVEsRUFBQyxPQUFPLEVBQUUsaUNBQWlDLENBQUM7QUFDcEQsSUFBQUMscUJBQVEsRUFBQyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFFQyxHQUFHLElBQUs7RUFDOUJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVUsR0FBR0YsR0FBRyxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUNGLElBQUFHLHFCQUFRLEVBQUMsT0FBTyxDQUFDO0FBQ2pCLElBQUFOLHFCQUFRLEVBQUMsVUFBVSxFQUFFO0VBQUVPLElBQUksRUFBRSxPQUFPO0VBQUVDLEdBQUcsRUFBRSxFQUFFO0VBQUVDLEtBQUssRUFBRTtBQUFrQixDQUFDLENBQUM7QUFFMUUsSUFBQUMsc0JBQVMsRUFBQyxVQUFVLENBQUMsQ0FBQ1IsSUFBSSxDQUFFQyxHQUFHLElBQUs7RUFDbENDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsR0FBR00sSUFBSSxDQUFDQyxTQUFTLENBQUNULEdBQUcsQ0FBQyxDQUFDO0FBQ2hELENBQUMsQ0FBQyJ9","map":{"version":3,"names":["setValue","getValue","then","res","console","log","delValue","name","age","email","getHValue","JSON","stringify"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/config/","sources":["test.js"],"sourcesContent":["import { getHValue, getValue, setValue, delValue } from \"./RedisConfig\";\nsetValue(\"imooc\", \"imooc message from redis client\");\ngetValue(\"imooc\").then((res) => {\n  console.log(\"getValue\" + res);\n});\ndelValue(\"imooc\");\nsetValue(\"imoocobj\", { name: \"brian\", age: 30, email: \"brian@imooc.com\" });\n\ngetHValue(\"imoocobj\").then((res) => {\n  console.log(\"getHValue\" + JSON.stringify(res));\n});\n"],"mappings":";;AAAA;AACA,IAAAA,qBAAQ,EAAC,OAAO,EAAE,iCAAiC,CAAC;AACpD,IAAAC,qBAAQ,EAAC,OAAO,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;EAC9BC,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGF,GAAG,CAAC;AAC/B,CAAC,CAAC;AACF,IAAAG,qBAAQ,EAAC,OAAO,CAAC;AACjB,IAAAN,qBAAQ,EAAC,UAAU,EAAE;EAAEO,IAAI,EAAE,OAAO;EAAEC,GAAG,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAkB,CAAC,CAAC;AAE1E,IAAAC,sBAAS,EAAC,UAAU,CAAC,CAACR,IAAI,CAAEC,GAAG,IAAK;EAClCC,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGM,IAAI,CAACC,SAAS,CAACT,GAAG,CAAC,CAAC;AAChD,CAAC,CAAC"}},"mtime":1669626803031},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/RedisConfig.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setValue = exports.getValue = exports.getHValue = exports.delValue = exports.client = void 0;\nvar _redis = _interopRequireDefault(require(\"redis\"));\nvar _bluebird = require(\"bluebird\");\nvar _webpack = require(\"webpack\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst options = {\n  host: \"8.134.11.242\",\n  port: 15001,\n  password: \"123456\",\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with a individual error\n      return new Error(\"The server refused the connection\");\n    }\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n    if (options.times_connected > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    }\n    // reconnect after\n    return Math.max(options.attempt * 100, 3000);\n  }\n};\n\n// const client = redis.createClient(options);\nconst client = (0, _bluebird.promisifyAll)(_redis.default.createClient(options));\nexports.client = client;\nconst setValue = (key, value) => {\n  if (typeof value === \"undefined\" || value == null || value === \"\") {\n    return;\n  }\n  if (typeof value === \"string\") {\n    return client.set(key, value);\n  } else if (typeof value === \"object\") {\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], _redis.default.print);\n    });\n  }\n};\n\n// const { promisify } = require(\"util\");\n// const getAsync = promisify(client.get).bind(client);\nexports.setValue = setValue;\nconst getValue = key => {\n  return client.getAsync(key);\n};\nexports.getValue = getValue;\nconst getHValue = key => {\n  //v8 promisify method use util, must node>8\n  // return promisify(client.hgetall).bind(client)(key);\n  //bluebird async\n  return client.hgetallAsync(key);\n};\nexports.getHValue = getHValue;\nconst delValue = key => {\n  return client.del(key, (err, res) => {\n    if (res == 1) {\n      console.log(\"delete success\");\n    } else {\n      console.log(\"delete redis key is fail\");\n    }\n  });\n};\nexports.delValue = delValue;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25zIiwiaG9zdCIsInBvcnQiLCJwYXNzd29yZCIsImRldGVjdF9idWZmZXJzIiwicmV0cnlfc3RyYXRlZ3kiLCJlcnJvciIsImNvZGUiLCJFcnJvciIsInRvdGFsX3JldHJ5X3RpbWUiLCJ0aW1lc19jb25uZWN0ZWQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWF4IiwiYXR0ZW1wdCIsImNsaWVudCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwiY3JlYXRlQ2xpZW50Iiwic2V0VmFsdWUiLCJrZXkiLCJ2YWx1ZSIsInNldCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaXRlbSIsImhzZXQiLCJwcmludCIsImdldFZhbHVlIiwiZ2V0QXN5bmMiLCJnZXRIVmFsdWUiLCJoZ2V0YWxsQXN5bmMiLCJkZWxWYWx1ZSIsImRlbCIsImVyciIsInJlcyIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sdWNreS9EZXNrdG9wL2Zyb250L2RhcWlhbmR1YW4vYXBpL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJSZWRpc0NvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVkaXMgZnJvbSBcInJlZGlzXCI7XG5pbXBvcnQgeyBwcm9taXNpZnlBbGwgfSBmcm9tIFwiYmx1ZWJpcmRcIjtcbmltcG9ydCB7IGNsaSB9IGZyb20gXCJ3ZWJwYWNrXCI7XG5jb25zdCBvcHRpb25zID0ge1xuICBob3N0OiBcIjguMTM0LjExLjI0MlwiLFxuICBwb3J0OiAxNTAwMSxcbiAgcGFzc3dvcmQ6IFwiMTIzNDU2XCIsXG4gIGRldGVjdF9idWZmZXJzOiB0cnVlLFxuICByZXRyeV9zdHJhdGVneTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5lcnJvci5jb2RlID09PSBcIkVDT05OUkVGVVNFRFwiKSB7XG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIG9uIGEgc3BlY2lmaWMgZXJyb3IgYW5kIGZsdXNoIGFsbCBjb21tYW5kcyB3aXRoIGEgaW5kaXZpZHVhbCBlcnJvclxuICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIlRoZSBzZXJ2ZXIgcmVmdXNlZCB0aGUgY29ubmVjdGlvblwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudG90YWxfcmV0cnlfdGltZSA+IDEwMDAgKiA2MCAqIDYwKSB7XG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3BlY2lmaWMgdGltZW91dCBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGggYSBpbmRpdmlkdWFsIGVycm9yXG4gICAgICByZXR1cm4gbmV3IEVycm9yKFwiUmV0cnkgdGltZSBleGhhdXN0ZWRcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRpbWVzX2Nvbm5lY3RlZCA+IDEwKSB7XG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIHdpdGggYnVpbHQgaW4gZXJyb3JcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIHJlY29ubmVjdCBhZnRlclxuICAgIHJldHVybiBNYXRoLm1heChvcHRpb25zLmF0dGVtcHQgKiAxMDAsIDMwMDApO1xuICB9LFxufTtcblxuLy8gY29uc3QgY2xpZW50ID0gcmVkaXMuY3JlYXRlQ2xpZW50KG9wdGlvbnMpO1xuY29uc3QgY2xpZW50ID0gcHJvbWlzaWZ5QWxsKHJlZGlzLmNyZWF0ZUNsaWVudChvcHRpb25zKSk7XG5cbmNvbnN0IHNldFZhbHVlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIlwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gY2xpZW50LnNldChrZXksIHZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBjb25zdCB7IHByb21pc2lmeSB9ID0gcmVxdWlyZShcInV0aWxcIik7XG4vLyBjb25zdCBnZXRBc3luYyA9IHByb21pc2lmeShjbGllbnQuZ2V0KS5iaW5kKGNsaWVudCk7XG5jb25zdCBnZXRWYWx1ZSA9IChrZXkpID0+IHtcbiAgcmV0dXJuIGNsaWVudC5nZXRBc3luYyhrZXkpO1xufTtcblxuY29uc3QgZ2V0SFZhbHVlID0gKGtleSkgPT4ge1xuICAvL3Y4IHByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZT44XG4gIC8vIHJldHVybiBwcm9taXNpZnkoY2xpZW50LmhnZXRhbGwpLmJpbmQoY2xpZW50KShrZXkpO1xuICAvL2JsdWViaXJkIGFzeW5jXG4gIHJldHVybiBjbGllbnQuaGdldGFsbEFzeW5jKGtleSk7XG59O1xuXG5jb25zdCBkZWxWYWx1ZSA9IChrZXkpID0+IHtcbiAgcmV0dXJuIGNsaWVudC5kZWwoa2V5LCAoZXJyLCByZXMpID0+IHtcbiAgICBpZiAocmVzID09IDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlIHN1Y2Nlc3NcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlIHJlZGlzIGtleSBpcyBmYWlsXCIpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IHsgY2xpZW50LCBzZXRWYWx1ZSwgZ2V0VmFsdWUsIGdldEhWYWx1ZSwgZGVsVmFsdWUgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQThCO0FBQzlCLE1BQU1BLE9BQU8sR0FBRztFQUNkQyxJQUFJLEVBQUUsY0FBYztFQUNwQkMsSUFBSSxFQUFFLEtBQUs7RUFDWEMsUUFBUSxFQUFFLFFBQVE7RUFDbEJDLGNBQWMsRUFBRSxJQUFJO0VBQ3BCQyxjQUFjLEVBQUUsVUFBVUwsT0FBTyxFQUFFO0lBQ2pDLElBQUlBLE9BQU8sQ0FBQ00sS0FBSyxDQUFDQyxJQUFJLEtBQUssY0FBYyxFQUFFO01BQ3pDO01BQ0EsT0FBTyxJQUFJQyxLQUFLLENBQUMsbUNBQW1DLENBQUM7SUFDdkQ7SUFDQSxJQUFJUixPQUFPLENBQUNTLGdCQUFnQixHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO01BQzdDO01BQ0EsT0FBTyxJQUFJRCxLQUFLLENBQUMsc0JBQXNCLENBQUM7SUFDMUM7SUFDQSxJQUFJUixPQUFPLENBQUNVLGVBQWUsR0FBRyxFQUFFLEVBQUU7TUFDaEM7TUFDQSxPQUFPQyxTQUFTO0lBQ2xCO0lBQ0E7SUFDQSxPQUFPQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ2IsT0FBTyxDQUFDYyxPQUFPLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQztFQUM5QztBQUNGLENBQUM7O0FBRUQ7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsc0JBQVksRUFBQ0MsY0FBSyxDQUFDQyxZQUFZLENBQUNsQixPQUFPLENBQUMsQ0FBQztBQUFDO0FBRXpELE1BQU1tQixRQUFRLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFQyxLQUFLLEtBQUs7RUFDL0IsSUFBSSxPQUFPQSxLQUFLLEtBQUssV0FBVyxJQUFJQSxLQUFLLElBQUksSUFBSSxJQUFJQSxLQUFLLEtBQUssRUFBRSxFQUFFO0lBQ2pFO0VBQ0Y7RUFDQSxJQUFJLE9BQU9BLEtBQUssS0FBSyxRQUFRLEVBQUU7SUFDN0IsT0FBT04sTUFBTSxDQUFDTyxHQUFHLENBQUNGLEdBQUcsRUFBRUMsS0FBSyxDQUFDO0VBQy9CLENBQUMsTUFBTSxJQUFJLE9BQU9BLEtBQUssS0FBSyxRQUFRLEVBQUU7SUFDcENFLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDSCxLQUFLLENBQUMsQ0FBQ0ksT0FBTyxDQUFFQyxJQUFJLElBQUs7TUFDbkNYLE1BQU0sQ0FBQ1ksSUFBSSxDQUFDUCxHQUFHLEVBQUVNLElBQUksRUFBRUwsS0FBSyxDQUFDSyxJQUFJLENBQUMsRUFBRVQsY0FBSyxDQUFDVyxLQUFLLENBQUM7SUFDbEQsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFBQTtBQUNBLE1BQU1DLFFBQVEsR0FBSVQsR0FBRyxJQUFLO0VBQ3hCLE9BQU9MLE1BQU0sQ0FBQ2UsUUFBUSxDQUFDVixHQUFHLENBQUM7QUFDN0IsQ0FBQztBQUFDO0FBRUYsTUFBTVcsU0FBUyxHQUFJWCxHQUFHLElBQUs7RUFDekI7RUFDQTtFQUNBO0VBQ0EsT0FBT0wsTUFBTSxDQUFDaUIsWUFBWSxDQUFDWixHQUFHLENBQUM7QUFDakMsQ0FBQztBQUFDO0FBRUYsTUFBTWEsUUFBUSxHQUFJYixHQUFHLElBQUs7RUFDeEIsT0FBT0wsTUFBTSxDQUFDbUIsR0FBRyxDQUFDZCxHQUFHLEVBQUUsQ0FBQ2UsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDbkMsSUFBSUEsR0FBRyxJQUFJLENBQUMsRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztJQUMvQixDQUFDLE1BQU07TUFDTEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7SUFDekM7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDO0FBQUMifQ==","map":{"version":3,"names":["options","host","port","password","detect_buffers","retry_strategy","error","code","Error","total_retry_time","times_connected","undefined","Math","max","attempt","client","promisifyAll","redis","createClient","setValue","key","value","set","Object","keys","forEach","item","hset","print","getValue","getAsync","getHValue","hgetallAsync","delValue","del","err","res","console","log"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/config/","sources":["RedisConfig.js"],"sourcesContent":["import redis from \"redis\";\nimport { promisifyAll } from \"bluebird\";\nimport { cli } from \"webpack\";\nconst options = {\n  host: \"8.134.11.242\",\n  port: 15001,\n  password: \"123456\",\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with a individual error\n      return new Error(\"The server refused the connection\");\n    }\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n    if (options.times_connected > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    }\n    // reconnect after\n    return Math.max(options.attempt * 100, 3000);\n  },\n};\n\n// const client = redis.createClient(options);\nconst client = promisifyAll(redis.createClient(options));\n\nconst setValue = (key, value) => {\n  if (typeof value === \"undefined\" || value == null || value === \"\") {\n    return;\n  }\n  if (typeof value === \"string\") {\n    return client.set(key, value);\n  } else if (typeof value === \"object\") {\n    Object.keys(value).forEach((item) => {\n      client.hset(key, item, value[item], redis.print);\n    });\n  }\n};\n\n// const { promisify } = require(\"util\");\n// const getAsync = promisify(client.get).bind(client);\nconst getValue = (key) => {\n  return client.getAsync(key);\n};\n\nconst getHValue = (key) => {\n  //v8 promisify method use util, must node>8\n  // return promisify(client.hgetall).bind(client)(key);\n  //bluebird async\n  return client.hgetallAsync(key);\n};\n\nconst delValue = (key) => {\n  return client.del(key, (err, res) => {\n    if (res == 1) {\n      console.log(\"delete success\");\n    } else {\n      console.log(\"delete redis key is fail\");\n    }\n  });\n};\nexport { client, setValue, getValue, getHValue, delValue };\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAA8B;AAC9B,MAAMA,OAAO,GAAG;EACdC,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAE,KAAK;EACXC,QAAQ,EAAE,QAAQ;EAClBC,cAAc,EAAE,IAAI;EACpBC,cAAc,EAAE,UAAUL,OAAO,EAAE;IACjC,IAAIA,OAAO,CAACM,KAAK,CAACC,IAAI,KAAK,cAAc,EAAE;MACzC;MACA,OAAO,IAAIC,KAAK,CAAC,mCAAmC,CAAC;IACvD;IACA,IAAIR,OAAO,CAACS,gBAAgB,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE;MAC7C;MACA,OAAO,IAAID,KAAK,CAAC,sBAAsB,CAAC;IAC1C;IACA,IAAIR,OAAO,CAACU,eAAe,GAAG,EAAE,EAAE;MAChC;MACA,OAAOC,SAAS;IAClB;IACA;IACA,OAAOC,IAAI,CAACC,GAAG,CAACb,OAAO,CAACc,OAAO,GAAG,GAAG,EAAE,IAAI,CAAC;EAC9C;AACF,CAAC;;AAED;AACA,MAAMC,MAAM,GAAG,IAAAC,sBAAY,EAACC,cAAK,CAACC,YAAY,CAAClB,OAAO,CAAC,CAAC;AAAC;AAEzD,MAAMmB,QAAQ,GAAG,CAACC,GAAG,EAAEC,KAAK,KAAK;EAC/B,IAAI,OAAOA,KAAK,KAAK,WAAW,IAAIA,KAAK,IAAI,IAAI,IAAIA,KAAK,KAAK,EAAE,EAAE;IACjE;EACF;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAON,MAAM,CAACO,GAAG,CAACF,GAAG,EAAEC,KAAK,CAAC;EAC/B,CAAC,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IACpCE,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,OAAO,CAAEC,IAAI,IAAK;MACnCX,MAAM,CAACY,IAAI,CAACP,GAAG,EAAEM,IAAI,EAAEL,KAAK,CAACK,IAAI,CAAC,EAAET,cAAK,CAACW,KAAK,CAAC;IAClD,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA;AAAA;AACA,MAAMC,QAAQ,GAAIT,GAAG,IAAK;EACxB,OAAOL,MAAM,CAACe,QAAQ,CAACV,GAAG,CAAC;AAC7B,CAAC;AAAC;AAEF,MAAMW,SAAS,GAAIX,GAAG,IAAK;EACzB;EACA;EACA;EACA,OAAOL,MAAM,CAACiB,YAAY,CAACZ,GAAG,CAAC;AACjC,CAAC;AAAC;AAEF,MAAMa,QAAQ,GAAIb,GAAG,IAAK;EACxB,OAAOL,MAAM,CAACmB,GAAG,CAACd,GAAG,EAAE,CAACe,GAAG,EAAEC,GAAG,KAAK;IACnC,IAAIA,GAAG,IAAI,CAAC,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC/B,CAAC,MAAM;MACLD,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC;EACF,CAAC,CAAC;AACJ,CAAC;AAAC"}},"mtime":1669626761373},"{\"sourceRoot\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"filename\":\"/Users/lucky/Desktop/front/daqianduan/api/src/config/RedisConfig.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lucky/Desktop/front/daqianduan/api\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setValue = exports.getValue = exports.getHValue = exports.delValue = exports.client = void 0;\nvar _redis = _interopRequireDefault(require(\"redis\"));\nvar _bluebird = require(\"bluebird\");\nvar _webpack = require(\"webpack\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst options = {\n  host: \"8.134.11.242\",\n  port: 15001,\n  password: \"123456\",\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with a individual error\n      return new Error(\"The server refused the connection\");\n    }\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n    if (options.times_connected > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    }\n    // reconnect after\n    return Math.max(options.attempt * 100, 3000);\n  }\n};\n\n// const client = redis.createClient(options);\nconst client = (0, _bluebird.promisifyAll)(_redis.default.createClient(options));\nexports.client = client;\nclient.on(\"error\", err => {\n  console.log(\"Redis client error\" + err);\n});\nconst setValue = (key, value) => {\n  if (typeof value === \"undefined\" || value == null || value === \"\") {\n    return;\n  }\n  if (typeof value === \"string\") {\n    return client.set(key, value);\n  } else if (typeof value === \"object\") {\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], _redis.default.print);\n    });\n  }\n};\n\n// const { promisify } = require(\"util\");\n// const getAsync = promisify(client.get).bind(client);\nexports.setValue = setValue;\nconst getValue = key => {\n  return client.getAsync(key);\n};\nexports.getValue = getValue;\nconst getHValue = key => {\n  //v8 promisify method use util, must node>8\n  // return promisify(client.hgetall).bind(client)(key);\n  //bluebird async\n  return client.hgetallAsync(key);\n};\nexports.getHValue = getHValue;\nconst delValue = key => {\n  return client.del(key, (err, res) => {\n    if (res == 1) {\n      console.log(\"delete success\");\n    } else {\n      console.log(\"delete redis key is fail\");\n    }\n  });\n};\nexports.delValue = delValue;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25zIiwiaG9zdCIsInBvcnQiLCJwYXNzd29yZCIsImRldGVjdF9idWZmZXJzIiwicmV0cnlfc3RyYXRlZ3kiLCJlcnJvciIsImNvZGUiLCJFcnJvciIsInRvdGFsX3JldHJ5X3RpbWUiLCJ0aW1lc19jb25uZWN0ZWQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWF4IiwiYXR0ZW1wdCIsImNsaWVudCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwiY3JlYXRlQ2xpZW50Iiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic2V0VmFsdWUiLCJrZXkiLCJ2YWx1ZSIsInNldCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaXRlbSIsImhzZXQiLCJwcmludCIsImdldFZhbHVlIiwiZ2V0QXN5bmMiLCJnZXRIVmFsdWUiLCJoZ2V0YWxsQXN5bmMiLCJkZWxWYWx1ZSIsImRlbCIsInJlcyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2x1Y2t5L0Rlc2t0b3AvZnJvbnQvZGFxaWFuZHVhbi9hcGkvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbIlJlZGlzQ29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWRpcyBmcm9tIFwicmVkaXNcIjtcbmltcG9ydCB7IHByb21pc2lmeUFsbCB9IGZyb20gXCJibHVlYmlyZFwiO1xuaW1wb3J0IHsgY2xpIH0gZnJvbSBcIndlYnBhY2tcIjtcbmNvbnN0IG9wdGlvbnMgPSB7XG4gIGhvc3Q6IFwiOC4xMzQuMTEuMjQyXCIsXG4gIHBvcnQ6IDE1MDAxLFxuICBwYXNzd29yZDogXCIxMjM0NTZcIixcbiAgZGV0ZWN0X2J1ZmZlcnM6IHRydWUsXG4gIHJldHJ5X3N0cmF0ZWd5OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmVycm9yLmNvZGUgPT09IFwiRUNPTk5SRUZVU0VEXCIpIHtcbiAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgb24gYSBzcGVjaWZpYyBlcnJvciBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGggYSBpbmRpdmlkdWFsIGVycm9yXG4gICAgICByZXR1cm4gbmV3IEVycm9yKFwiVGhlIHNlcnZlciByZWZ1c2VkIHRoZSBjb25uZWN0aW9uXCIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50b3RhbF9yZXRyeV90aW1lID4gMTAwMCAqIDYwICogNjApIHtcbiAgICAgIC8vIEVuZCByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBzcGVjaWZpYyB0aW1lb3V0IGFuZCBmbHVzaCBhbGwgY29tbWFuZHMgd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJSZXRyeSB0aW1lIGV4aGF1c3RlZFwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudGltZXNfY29ubmVjdGVkID4gMTApIHtcbiAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgd2l0aCBidWlsdCBpbiBlcnJvclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gcmVjb25uZWN0IGFmdGVyXG4gICAgcmV0dXJuIE1hdGgubWF4KG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMCk7XG4gIH0sXG59O1xuXG4vLyBjb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucyk7XG5jb25zdCBjbGllbnQgPSBwcm9taXNpZnlBbGwocmVkaXMuY3JlYXRlQ2xpZW50KG9wdGlvbnMpKTtcbmNsaWVudC5vbihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgY29uc29sZS5sb2coXCJSZWRpcyBjbGllbnQgZXJyb3JcIiArIGVycik7XG59KTtcbmNvbnN0IHNldFZhbHVlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIlwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gY2xpZW50LnNldChrZXksIHZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBjb25zdCB7IHByb21pc2lmeSB9ID0gcmVxdWlyZShcInV0aWxcIik7XG4vLyBjb25zdCBnZXRBc3luYyA9IHByb21pc2lmeShjbGllbnQuZ2V0KS5iaW5kKGNsaWVudCk7XG5jb25zdCBnZXRWYWx1ZSA9IChrZXkpID0+IHtcbiAgcmV0dXJuIGNsaWVudC5nZXRBc3luYyhrZXkpO1xufTtcblxuY29uc3QgZ2V0SFZhbHVlID0gKGtleSkgPT4ge1xuICAvL3Y4IHByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZT44XG4gIC8vIHJldHVybiBwcm9taXNpZnkoY2xpZW50LmhnZXRhbGwpLmJpbmQoY2xpZW50KShrZXkpO1xuICAvL2JsdWViaXJkIGFzeW5jXG4gIHJldHVybiBjbGllbnQuaGdldGFsbEFzeW5jKGtleSk7XG59O1xuXG5jb25zdCBkZWxWYWx1ZSA9IChrZXkpID0+IHtcbiAgcmV0dXJuIGNsaWVudC5kZWwoa2V5LCAoZXJyLCByZXMpID0+IHtcbiAgICBpZiAocmVzID09IDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlIHN1Y2Nlc3NcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlIHJlZGlzIGtleSBpcyBmYWlsXCIpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IHsgY2xpZW50LCBzZXRWYWx1ZSwgZ2V0VmFsdWUsIGdldEhWYWx1ZSwgZGVsVmFsdWUgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQThCO0FBQzlCLE1BQU1BLE9BQU8sR0FBRztFQUNkQyxJQUFJ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","map":{"version":3,"names":["options","host","port","password","detect_buffers","retry_strategy","error","code","Error","total_retry_time","times_connected","undefined","Math","max","attempt","client","promisifyAll","redis","createClient","on","err","console","log","setValue","key","value","set","Object","keys","forEach","item","hset","print","getValue","getAsync","getHValue","hgetallAsync","delValue","del","res"],"sourceRoot":"/Users/lucky/Desktop/front/daqianduan/api/src/config/","sources":["RedisConfig.js"],"sourcesContent":["import redis from \"redis\";\nimport { promisifyAll } from \"bluebird\";\nimport { cli } from \"webpack\";\nconst options = {\n  host: \"8.134.11.242\",\n  port: 15001,\n  password: \"123456\",\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with a individual error\n      return new Error(\"The server refused the connection\");\n    }\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n    if (options.times_connected > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    }\n    // reconnect after\n    return Math.max(options.attempt * 100, 3000);\n  },\n};\n\n// const client = redis.createClient(options);\nconst client = promisifyAll(redis.createClient(options));\nclient.on(\"error\", (err) => {\n  console.log(\"Redis client error\" + err);\n});\nconst setValue = (key, value) => {\n  if (typeof value === \"undefined\" || value == null || value === \"\") {\n    return;\n  }\n  if (typeof value === \"string\") {\n    return client.set(key, value);\n  } else if (typeof value === \"object\") {\n    Object.keys(value).forEach((item) => {\n      client.hset(key, item, value[item], redis.print);\n    });\n  }\n};\n\n// const { promisify } = require(\"util\");\n// const getAsync = promisify(client.get).bind(client);\nconst getValue = (key) => {\n  return client.getAsync(key);\n};\n\nconst getHValue = (key) => {\n  //v8 promisify method use util, must node>8\n  // return promisify(client.hgetall).bind(client)(key);\n  //bluebird async\n  return client.hgetallAsync(key);\n};\n\nconst delValue = (key) => {\n  return client.del(key, (err, res) => {\n    if (res == 1) {\n      console.log(\"delete success\");\n    } else {\n      console.log(\"delete redis key is fail\");\n    }\n  });\n};\nexport { client, setValue, getValue, getHValue, delValue };\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAA8B;AAC9B,MAAMA,OAAO,GAAG;EACdC,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAE,KAAK;EACXC,QAAQ,EAAE,QAAQ;EAClBC,cAAc,EAAE,IAAI;EACpBC,cAAc,EAAE,UAAUL,OAAO,EAAE;IACjC,IAAIA,OAAO,CAACM,KAAK,CAACC,IAAI,KAAK,cAAc,EAAE;MACzC;MACA,OAAO,IAAIC,KAAK,CAAC,mCAAmC,CAAC;IACvD;IACA,IAAIR,OAAO,CAACS,gBAAgB,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE;MAC7C;MACA,OAAO,IAAID,KAAK,CAAC,sBAAsB,CAAC;IAC1C;IACA,IAAIR,OAAO,CAACU,eAAe,GAAG,EAAE,EAAE;MAChC;MACA,OAAOC,SAAS;IAClB;IACA;IACA,OAAOC,IAAI,CAACC,GAAG,CAACb,OAAO,CAACc,OAAO,GAAG,GAAG,EAAE,IAAI,CAAC;EAC9C;AACF,CAAC;;AAED;AACA,MAAMC,MAAM,GAAG,IAAAC,sBAAY,EAACC,cAAK,CAACC,YAAY,CAAClB,OAAO,CAAC,CAAC;AAAC;AACzDe,MAAM,CAACI,EAAE,CAAC,OAAO,EAAGC,GAAG,IAAK;EAC1BC,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGF,GAAG,CAAC;AACzC,CAAC,CAAC;AACF,MAAMG,QAAQ,GAAG,CAACC,GAAG,EAAEC,KAAK,KAAK;EAC/B,IAAI,OAAOA,KAAK,KAAK,WAAW,IAAIA,KAAK,IAAI,IAAI,IAAIA,KAAK,KAAK,EAAE,EAAE;IACjE;EACF;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAOV,MAAM,CAACW,GAAG,CAACF,GAAG,EAAEC,KAAK,CAAC;EAC/B,CAAC,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IACpCE,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,OAAO,CAAEC,IAAI,IAAK;MACnCf,MAAM,CAACgB,IAAI,CAACP,GAAG,EAAEM,IAAI,EAAEL,KAAK,CAACK,IAAI,CAAC,EAAEb,cAAK,CAACe,KAAK,CAAC;IAClD,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA;AAAA;AACA,MAAMC,QAAQ,GAAIT,GAAG,IAAK;EACxB,OAAOT,MAAM,CAACmB,QAAQ,CAACV,GAAG,CAAC;AAC7B,CAAC;AAAC;AAEF,MAAMW,SAAS,GAAIX,GAAG,IAAK;EACzB;EACA;EACA;EACA,OAAOT,MAAM,CAACqB,YAAY,CAACZ,GAAG,CAAC;AACjC,CAAC;AAAC;AAEF,MAAMa,QAAQ,GAAIb,GAAG,IAAK;EACxB,OAAOT,MAAM,CAACuB,GAAG,CAACd,GAAG,EAAE,CAACJ,GAAG,EAAEmB,GAAG,KAAK;IACnC,IAAIA,GAAG,IAAI,CAAC,EAAE;MACZlB,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC/B,CAAC,MAAM;MACLD,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC;EACF,CAAC,CAAC;AACJ,CAAC;AAAC"}},"mtime":1669626892247}}